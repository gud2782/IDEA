<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header_content :: header_content" />


<!-- Required meta tags-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<!-- Font special for pages-->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
<!-- Main CSS-->
<link href="/css/main_form.css" rel="stylesheet" media="all">


<!--navbar-->
<div th:replace="fragments/navbar_content :: navbar_content"/>
<!--navbar end-->
<body>
<div class="page-wrapper bg-navy p-t-100 p-b-50">
    <div class="wrapper_form wrapper--w900">
        <div class="card_form card-6">
            <div class="card-heading">
                <h2 class="title_form">반려견 백신 접종 이력 등록</h2>
            </div>
            <div class="card-body">

                <form role="form" action="/vc/new" th:object="${vaccineForm}" method="post">


                    <div class="form-row">
                        <div class="name">강아지</div>
                        <div class="value">
                            <select name="registerIdx" id="register" class="input--style-6" th:onchange="changeValues()"  >
                                <option value="">강아지선택</option>
                                <option th:each="register : ${registers}"
                                        th:value="|${register.registerIdx},${register.aniId}|"
                                        th:text="${register.aniName}"
                                />
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="name">1차 선택</div>
                        <div class="value">
                            <select name="first" id="first" class="input--style-6"  >
                                <option value="">1차 선택</option>
                                <option th:each="first : ${T(com.likeadog.idea.enumCollection.FirstStatus).values()}"
                                        th:value="${first}" th:text="${first.name}"
                                />
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="name">2차 선택</div>
                        <div class="value">
                            <select name="second" id="second" class="input--style-6" >
                                <option value="">2차 선택</option>
                                <option th:each="second : ${T(com.likeadog.idea.enumCollection.SecondStatus).values()}"
                                        th:value="${second}" th:text="${second.name}"
                                />
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="name">3차 선택</div>
                        <div class="value">
                            <select name="third" id="third" class="input--style-6"  >
                                <option value="">3차 선택</option>
                                <option th:each="third : ${T(com.likeadog.idea.enumCollection.ThirdStatus).values()}"
                                        th:value="${third}" th:text="${third.name}"
                                />
                            </select>
                        </div>
                    </div>


                    <div class="form-row">
                        <div class="name">동물등록번호</div>
                        <div class="value">
                            <input th:id="regidx"  type="text"  class="input--style-6" readonly>
                        </div>
                    </div>

                    <!--        <div class="form-group">-->
                    <!--            <label th:for="VNumber"접종차수</label>-->
                    <!--            <input type="text" th:field="*{VNumber}" class="form-control"-->
                    <!--                   placeholder="접종차수를 입력하세요".>-->
                    <!--        </div>-->

                    <div class="form-row">
                        <div class="name">접종 날짜</div>
                        <div class="value">
                            <input class="input--style-6"  name="full_name" th:id="VDate" type="text" th:field="*{VDate}">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="name">다음 날짜</div>
                        <div class="value">
                            <input class="input--style-6"  name="full_name" th:id="NDate" type="text" th:field="*{NDate}">
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn--radius-2 btn--blue-2" type="submit">등록</button>
                    </div>
                </form>
                <div th:replace="fragments/footer :: footer" />
            </div>








            <script th:inline="javascript">
                function changeValues() {


                    //select된 값 가져오면서 , 기준 파싱
                    let selectOption = document.getElementById("register").value.split(",");

                    //변수 선언
                    let aniId,kind,neutralization;

                    //각각 파싱된 변수들 저장
                    for (let idx=0; idx <  4; idx++){
                        let value = selectOption [idx];
                        if(idx == 1){
                            aniId= value;
                        }else if(idx == 2){
                            kind= value;
                        }else if(idx==3){
                            neutralization= value;
                        }
                    }


                    //input id값으로 저장된 값 설정 및 뿌려주기
                    document.getElementById('regidx').value = aniId;
                    document.getElementById('kind').value = kind;
                    document.getElementById('neutralization').value = neutralization;

                }




                function itemChange() {


                    var selectFirst = $("#first").val();


                    if(selectFirst == "DHPPL"){
                        $('#thirds').show();


                    } else if (selectFirst == "Rabies") {


                    } else  {
                        $('#thirds').hide();
                        $('#thirds').val(typeof(null));
                        $('#extra').show();

                    }
                    console.log($("#first").val());
                    console.log($("#second").val());
                    console.log($("#third").val());
                    console.log($("#thirds").val());

                }

            </script>
            <script type="text/javascript">
                $(document).ready(function () {
                    $.datepicker.regional['ko'] = {
                        closeText: '닫기',
                        prevText: '이전달',
                        nextText: '다음달',
                        currentText: '오늘',
                        monthNames: ['1월(JAN)','2월(FEB)','3월(MAR)','4월(APR)','5월(MAY)','6월(JUN)',
                            '7월(JUL)','8월(AUG)','9월(SEP)','10월(OCT)','11월(NOV)','12월(DEC)'],
                        monthNamesShort: ['1월','2월','3월','4월','5월','6월',
                            '7월','8월','9월','10월','11월','12월'],
                        dayNames: ['일','월','화','수','목','금','토'],
                        dayNamesShort: ['일','월','화','수','목','금','토'],
                        dayNamesMin: ['일','월','화','수','목','금','토'],
                        weekHeader: 'Wk',
                        dateFormat: 'yy-mm-dd',
                        firstDay: 0,
                        isRTL: false,
                        showMonthAfterYear: true,
                        yearSuffix: '',
                        buttonText: "달력",
                        changeMonth: true,
                        changeYear: true,
                        showButtonPanel: true,
                        yearRange: 'c-99:c+99',
                    };
                    $.datepicker.setDefaults($.datepicker.regional['ko']);

                    $('#VDate').datepicker();
                    $('#VDate').datepicker("option", "maxDate", $("#VDate").val());


                    $('#NDate').datepicker();
                    $('#NDate').datepicker("option", "maxDate", $("#NDate").val());


                });
            </script>

</body>

<!-- Jquery JS-->
<script src="/vendor/jquery/jquery.min.js"></script>


<!-- Main JS-->
<script src="/js/global.js"></script>

</html>